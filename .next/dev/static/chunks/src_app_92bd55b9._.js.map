{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/jacob-co/projects/jc-receipts-reader/receipts-reader-app/src/app/backend-constants.ts"],"sourcesContent":["const backendUrl = process.env.BACKEND_URL || \"http://localhost:3001\";\n\nexport const receiptUploadUrl = backendUrl + \"/receipts/upload\";\nexport const receiptUploadFormName = \"receipt\";\n"],"names":[],"mappings":";;;;;;AAAmB;AAAnB,MAAM,aAAa,2KAAO,CAAC,GAAG,CAAC,WAAW,IAAI;AAEvC,MAAM,mBAAmB,aAAa;AACtC,MAAM,wBAAwB"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///home/jacob-co/projects/jc-receipts-reader/receipts-reader-app/src/app/upload-container.tsx"],"sourcesContent":["'use client'\nimport Form from \"react-bootstrap/Form\";\nimport {receiptUploadUrl, receiptUploadFormName} from \"./backend-constants\";\n\nexport default function UploadContainer() {\n  const handleFileInput = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target.files;\n    if (files === null || files.length === 0) return;\n\n    // upload files\n    Array.from(files).map(file => {\n        const formData = new FormData();\n        formData.append(receiptUploadFormName, file);\n        fetch(receiptUploadUrl, {\n            method: \"POST\",\n            body: formData\n        });\n    });\n\n    return;\n\n    // Convert FileList â†’ Array so we can loop easily\n    const uploadPromises = Array.from(files).map(file => {\n      return new Promise(res => {\n          const reader = new FileReader();\n\n          reader.onload = (e: ProgressEvent<FileReader>) => {\n              if (e.target === null) return;\n              const dataUrl = e.target.result;\n              const regex = /data:.+\\/.+;base64,/\n              const base64Clean = dataUrl.replace(regex, \"\"); \n              console.log(base64Clean);\n              res(base64Clean);\n          };\n\n          reader.readAsDataURL(file);\n      });\n    });\n    await Promise.all(uploadPromises);\n  }\n\n  return (\n    <div>\n      <Form.Group controlId=\"formFileMultiple\">\n        <Form.Label>Upload Multiple Receipt Photos</Form.Label>\n        <Form.Control type=\"file\" multiple accept=\"image/*\" onChange={handleFileInput}/>\n      </Form.Group>\n    </div>\n  );\n} \n"],"names":["Form","receiptUploadUrl","receiptUploadFormName","UploadContainer","handleFileInput","event","React","ChangeEvent","HTMLInputElement","files","target","length","Array","from","map","file","formData","FormData","append","fetch","method","body","uploadPromises","Promise","res","reader","FileReader","onload","e","ProgressEvent","dataUrl","result","regex","base64Clean","replace","console","log","readAsDataURL","all"],"mappings":";;;;;AACA,OAAOA,IAAI,MAAM,sBAAsB;AACvC,SAAQC,gBAAgB,EAAEC,qBAAqB,QAAO,qBAAqB;AAF3E,YAAY;;;;AAIG;IACb,MAAME,eAAe,GAAG,MAAAA,CAAOC,KAAK,EAAEC,KAAK,CAACC,WAAW,CAACC,gBAAgB,CAAC,KAAK;QAC5E,MAAMC,KAAK,GAAGJ,KAAK,CAACK,MAAM,CAACD,KAAK;QAChC,IAAIA,KAAK,KAAK,IAAI,IAAIA,KAAK,CAACE,MAAM,KAAK,CAAC,EAAE;QAE1C,eAAA;QACAC,KAAK,CAACC,IAAI,CAACJ,KAAK,CAAC,CAACK,GAAG,EAACC,IAAI,IAAI;YAC1B,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;YAC/BD,QAAQ,CAACE,MAAM,CAAChB,8JAAqB,EAAEa,IAAI,CAAC;YAC5CI,KAAK,CAAClB,yJAAgB,EAAE;gBACpBmB,MAAM,EAAE,MAAM;gBACdC,IAAI,EAAEL;YACV,CAAC,CAAC;QACN,CAAC,CAAC;QAEF;;;QAEA,iDAAA;QACA,MAAMM,cAAc,GAAGV,KAAK,CAACC,IAAI,CAACJ,KAAK,CAAC,CAACK,GAAG,CAACC,MAAI,IAAI;IAiBvD,CAAC;IAED,qBACE,6LAAC,GAAG;gCACF,6LAAC,+JAAI,CAAC,KAAK;YAAC,SAAS,EAAC,kBAAkB;;8BACtC,6LAAC,+JAAI,CAAC,KAAK;8BAAC,8BAA8B,EAAE,IAAI,CAAC,KAAK;;;;;;8BACtD,6LAAC,+JAAI,CAAC,OAAO;oBAAC,IAAI,EAAC,MAAM;oBAAC,QAAQ;oBAAC,MAAM,EAAC,SAAS;oBAAC,QAAQ,CAAC,CAACX,eAAe,CAAC;;;;;;;;;;;;;;;;;AAItF;KA7CwBD,eAAeA,CAAA,EAAG","ignoreList":[]}}]
}